{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/Profile.module.css","components/Profile/Topic/Topic.module.css","components/Profile/Topic/Friends/Friends.module.css","components/Profile/AvatarInfo/AvatarInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/NewsProfile/NewsProfile.module.css","components/Profile/Topic/Topic.jpg","components/Profile/Topic/Friends/Friends.jsx","components/Profile/Topic/Friends/FriendsContainer.jsx","components/Profile/Topic/Topic.jsx","components/Profile/AvatarInfo/ProfileStatusWithHooks.jsx","components/Profile/AvatarInfo/AvatarInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","forms/MyNewPostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostContainer.jsx","components/Profile/NewsProfile/NewsProfile.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","FriendItem","path","id","className","logo","Friends","FriendElement","friends","map","f","name","FriendsContainer","UsersPage","dispatch","Topic","t","topic","topicPicture","src","store","profile","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","AvatarInfo","av","avatar","photos","large","Info","fullName","Preloader","PostsItem","p","post","Post","PostElements","posts","pr","validate","Yup","shape","newPostText","max","required","MyNewPostForm","initialValues","validationSchema","onSubmit","values","AddNewPost","errors","touched","type","MyPosts","m","addPost","title","MyPostsContainer","ProfilePage","addPostActionCreator","NewsProfile","n","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","push","getProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/4.31b710f2.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\nclass RedirectComponent extends React.Component{\r\n\r\n    render () {\r\n        if (!this.props.isAuth) return <Redirect to={\"/Login\"} />\r\n\r\n        return <Component {...this.props} />\r\n    }\r\n}\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__3MBYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"Topic_topic__1YqG5\",\"topicPicture\":\"Topic_topicPicture__2sLNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Friends\":\"Friends_Friends__30fPG\",\"friend1\":\"Friends_friend1__3YCvm\",\"friend2\":\"Friends_friend2__39RHu\",\"friend3\":\"Friends_friend3__3hrKw\",\"friend4\":\"Friends_friend4__1BBLE\",\"friend5\":\"Friends_friend5__26jcT\",\"friend6\":\"Friends_friend6__3hWOA\",\"friend7\":\"Friends_friend7__1vbtR\",\"friend8\":\"Friends_friend8__196ZP\",\"friend9\":\"Friends_friend9__GfS-J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AvatarInfo\":\"AvatarInfo_AvatarInfo___Jjai\",\"avatar\":\"AvatarInfo_avatar__2R5qu\",\"Info\":\"AvatarInfo_Info__qsqLp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Myposts\":\"MyPosts_Myposts__28p0O\",\"title\":\"MyPosts_title__3o10n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__1GMY4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewsProfile\":\"NewsProfile_NewsProfile__34FFG\"};","export default __webpack_public_path__ + \"static/media/Topic.6e6c0b63.jpg\";","import React from 'react';\r\nimport f from './Friends.module.css';\r\n\r\n\r\nconst FriendItem = (props) => {\r\n    let path = \"/Friends/\" + \" \" + props.id;\r\n    return <div className={FriendItem}>\r\n        < div to={path}>{props.logo}</div>\r\n    </div>;\r\n};\r\nconst Friends = (props) => {\r\n\r\n    let FriendElement = props.friends.map(f => <FriendItem name={f.name} id={f.id} key={f.id} logo={f.logo}/>)\r\n\r\n    return <div className={f.Friends}>\r\n        {FriendElement}\r\n\r\n    </div>\r\n}\r\nexport default Friends;","import React from 'react';\r\nimport Friends from \"./Friends\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.UsersPage.friends\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {}\r\n}\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React from 'react';\r\nimport t from './Topic.module.css';\r\nimport topic from \"./Topic.jpg\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\n\r\nconst Topic = (props) => {\r\n    return <div className={t.topic}>\r\n        <div className={t.topicPicture}>\r\n            <img src={topic}></img>\r\n        </div>\r\n        <FriendsContainer store={props.profile}/>\r\n\r\n    </div>\r\n};\r\nexport default Topic;","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( ()=> {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deaActivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || \"___\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deaActivateEditMode}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport av from './AvatarInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst AvatarInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return <div className={av.AvatarInfo}>\r\n        <div className={av.avatar}>\r\n            <img src={props.profile.photos.large}/>\r\n        </div>\r\n\r\n        <div className={av.Info}>\r\n            <a>Name: {props.profile.fullName}</a><br></br>\r\n            <a>Age:</a><br></br>\r\n            <a>From:</a><br></br>\r\n            <a>Marital status:</a><br></br>\r\n            <a>Education:</a>\r\n\r\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n    </div>\r\n};\r\nexport default AvatarInfo;","import React from 'react';\r\nimport p from './Post.module.css';\r\n\r\nconst PostsItem = (props) => {\r\n\r\n    return <div className={p.post}>{props.post}</div>\r\n}\r\n\r\nconst Post = (props) => {\r\n\r\n    let PostElements =\r\n        props.posts.map(pr => <PostsItem post={pr.post} key={pr.id} id={pr.id}/>);\r\n\r\n    return <div className={p.Post}>\r\n        {PostElements}\r\n    </div>\r\n}\r\nexport default Post;\r\n","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst validate = Yup.object().shape({\r\n    newPostText: Yup.string()\r\n        .max(50, 'Too Long!')\r\n        .required('Required')\r\n});\r\n\r\nconst MyNewPostForm = (props) => (\r\n    <div>\r\n        <Formik\r\n            initialValues={{ newPostText: '' }}\r\n            validationSchema={validate}\r\n            onSubmit={values => {\r\n                props.AddNewPost(values);\r\n            }}\r\n        >\r\n            {({ errors, touched}) => (\r\n                <Form >\r\n                    < Field type=\"text\" name=\"newPostText\" />\r\n                    {touched.newPostText && errors.newPostText && <div>{errors.newPostText}</div>}\r\n                    < button type=\"submit\" >\r\n                        Publish\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n);\r\nexport default MyNewPostForm;","import React from 'react';\r\nimport m from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport MyNewPostForm from \"../../../forms/MyNewPostForm\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let AddNewPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n    return <div className={m.MyPosts}>\r\n        <div>\r\n            New Post\r\n            <MyNewPostForm AddNewPost={AddNewPost}/>\r\n        </div>\r\n        <div className={m.title}>\r\n            My posts\r\n        </div>\r\n        <div>\r\n            <Post posts={props.posts}/>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/ProfilePageReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.ProfilePage.posts,\r\n        newPostText: state.ProfilePage.newPostText,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        },\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport n from './NewsProfile.module.css'\r\n\r\nconst NewsProfile = (props) => {\r\n    return <div className={n.NewsProfile}>\r\n\r\n    </div>\r\n}\r\nexport default NewsProfile;\r\n","import React from 'react';\r\nimport p from './Profile.module.css';\r\nimport Topic from './Topic/Topic';\r\nimport AvatarInfo from './AvatarInfo/AvatarInfo';\r\nimport MyPostsContainer from \"./MyPosts/MyPostContainer\";\r\nimport NewsProfile from \"./NewsProfile/NewsProfile\";\r\n\r\nconst Profile = (props) => {\r\n    return <div className={p.Profile}>\r\n        <Topic profile={props.profile}/>\r\n        <AvatarInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n        <MyPostsContainer />\r\n        <NewsProfile />\r\n    </div>\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../Redux/ProfilePageReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId){\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.ProfilePage.profile,\r\n    status: state.ProfilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}