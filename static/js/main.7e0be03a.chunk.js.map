{"version":3,"sources":["Redux/AuthReducer.js","components/Header/Header.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.jsx","Redux/ProfilePageReducer.js","Redux/DialogPageReducer.js","utils/object-helpers.js","Redux/UsersPageReduser.js","API/API.js","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","Redux/AppReducer.js","hoc/withSuspense.js","App.js","Redux/redux-store.js","index.js"],"names":["SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","initialState","userId","email","login","isAuth","captchaUrl","SetAuthUserData","type","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","authAPI","me","response","data","resultCode","id","password","rememberMe","captcha","setStatus","getCaptchaUrl","messages","securityAPI","url","logout","AuthReducer","state","action","module","exports","Preloader","props","src","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","post","profile","status","addPostActionCreator","newPostText","getProfile","usersAPI","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveInfo","getState","auth","profileReducer","newPost","ADD_MESSAGE","dialogs","name","message","addMessageActionCreator","newMessageText","dialogReduser","newText","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","friends","users","totalUsersCount","pageSize","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requesrUsers","page","getUsers","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","usersReduser","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","console","warn","delete","put","photoFile","formData","FormData","append","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","style","navbar","item","to","activeClassName","activeLink","Header","header","textLogo","account","onClick","search","HeaderContainer","this","React","Component","connect","INITIALIZED_SUCCESS","initialized","AppReducer","withSuspense","Suspense","fallback","ProfileContainer","lazy","UsersContainer","Login","Settings","Music","News","Dialogs","App","catchAllUnchandledErrors","reason","promise","alert","initializeApp","window","addEventListener","removeEventListener","path","exact","render","compose","withRouter","app","Promise","all","reducers","combineReducers","ProfilePage","DialogPage","UsersPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.7e0be03a.chunk.js","sourcesContent":["import {authAPI, securityAPI} from \"../API/API\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n}\r\nconst AuthReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const SetAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data;\r\n            dispatch(SetAuthUserData(id, email, login, true));\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha, setStatus) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        setStatus(response.data.messages);\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0)\r\n                dispatch(SetAuthUserData(null, null, null, false));\r\n};\r\n\r\nexport default AuthReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header___6lgj\",\"textLogo\":\"Header_textLogo__xTadw\",\"account\":\"Header_account__2VMUm\",\"search\":\"Header_search__FCpma\",\"login\":\"Header_login__2rEgI\"};","export default __webpack_public_path__ + \"static/media/preloader.6abaf74a.gif\";","import React from 'react';\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\n\r\nlet Preloader= (props) => {\r\n    return<>\r\n        <img src={preloader}/>\r\n    </>\r\n}\r\nexport default Preloader;","import {profileAPI, usersAPI} from \"../API/API\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, post: 'OK'},\r\n        {id: 2, post: 'Nice to Meet you'},\r\n        {id: 3, post: 'My name is Maks'}\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = action.newPostText;\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 4, post: newPost}]\r\n            }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return{\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type:SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        const response = await usersAPI.getProfile(userId);\r\n            dispatch(setUserProfile(response.data));\r\n    }}\r\n\r\n    export const getStatus = (userId) => {\r\n        return async (dispatch) => {\r\n            const response = await profileAPI.getStatus(userId);\r\n                    dispatch(setStatus(response.data));\r\n        }}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        const response = await profileAPI.updateStatus(status)\r\n                if(response.data.resultCode === 0) {\r\n                    dispatch(setStatus(status));\r\n    }}}\r\n\r\n        export const savePhoto = (file) => {\r\n           return async (dispatch) => {\r\n                const response = await profileAPI.savePhoto(file);\r\n                if(response.data.resultCode === 0) {\r\n                    dispatch(savePhotoSuccess(response.data.data.photos));\r\n\r\n}}}\r\n\r\nexport const saveInfo = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().auth.userId;\r\n        const response = await profileAPI.saveInfo(profile);\r\n        if(response.data.resultCode === 0) {\r\n            dispatch(getProfile(userId));\r\n\r\n        }}}\r\n\r\nexport default profileReducer;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {name: 'Sveta', id: 1},\r\n        {name: 'Viktor', id: 2},\r\n        {name: 'Lidiya', id: 3},\r\n        {name: 'Maksim', id: 4},\r\n        {name: 'Roma', id: 5},\r\n        {name: 'Vitya', id: 6}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hello'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'GKSNJDGIL'}\r\n    ],\r\n}\r\nconst dialogReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE :\r\n            let newText = action.newMessageText;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: newText}]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText})\r\n\r\n\r\nexport default dialogReduser;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../API/API\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    users: [],\r\n    totalUsersCount: 0,\r\n    pageSize:10,\r\n    currentPage : 1,\r\n    isFetching : true,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {...state, followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id=> id!= action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count:totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowingProgress = (isFetching,userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requesrUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n    }};\r\n\r\nconst followUnfollowFlow =async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))}\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }};\r\n        export const unfollow = (userId) => {\r\n            return async (dispatch) => {\r\n                followUnfollowFlow(dispatch,userId, usersAPI.unfollow.bind(usersAPI),unfollowSuccess)\r\n            }};\r\nexport default usersReduser;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"41c6c312-b345-424c-8afc-9b516925e714\"\r\n    }\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveInfo(profile) {\r\n        return instance.put(`profile`, profile)\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha=null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    },\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__-DD7h\",\"item\":\"Navbar_item__gewhR\",\"activeLink\":\"Navbar_activeLink__1OCED\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport style from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {ImEnvelop, ImHome, ImNewspaper, ImPlay3, ImUserCheck, ImUsers, ImWrench} from \"react-icons/im\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.navbar}>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Profile\" activeClassName={style.activeLink}><ImHome/> Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Users\" activeClassName={style.activeLink}><ImUsers/> Users</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Dialogs\" activeClassName={style.activeLink}><ImEnvelop/> Dialogs</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Friends\" activeClassName={style.activeLink}><ImUserCheck/> Friends</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/News\" activeClassName={style.activeLink}><ImNewspaper/> News</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Music\" activeClassName={style.activeLink}><ImPlay3/> Music</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/Settings\" activeClassName={style.activeLink}><ImWrench/> Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={style.header}>\r\n        <div className={style.textLogo}>Share The News\r\n        </div>\r\n        <div className={style.account}>\r\n            {props.isAuth\r\n                ? <div className={style.login}> {props.login} - <button onClick={props.logout}>Log out</button></div>\r\n            : <NavLink to={\"/login\"}>Login</NavLink>}\r\n        </div>\r\n        <div className={style.search}>\r\n            <textarea>Search</textarea>\r\n        </div>\r\n    </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../Redux/AuthReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import {getAuthUserData} from \"./AuthReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initialixedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(()=> {\r\n        dispatch(initialixedSuccess())\r\n    })\r\n}\r\n\r\nexport default AppReducer;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n export const withSuspense = (Component) => {\r\n     return (props) => {\r\n         return <React.Suspense fallback={<Preloader />}>\r\n             <Component {...props} />\r\n             </React.Suspense>\r\n     }\r\n }","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {Redirect, Route} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {initializeApp} from \"./Redux/AppReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\nconst Login = React.lazy(() => import(\"./components/Login/Login\"))\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"))\nconst Music = React.lazy(() => import(\"./components/Music/Music\"))\nconst News = React.lazy(() => import(\"./components/News/News\"))\nconst Dialogs = React.lazy(() => import(\"./components/Dialogs/Dialogs\"))\n\nclass App extends React.Component {\n    catchAllUnchandledErrors = (reason,promise) => {\n        alert(\"Some error occured\");\n    }\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnchandledErrors)\n    }\n    componentWillUnmount() {window.removeEventListener(\"unhandledrejection\", this.catchAllUnchandledErrors)\n    }\n\n    render() {\n        if (!this.props.initialized){\n        return <Preloader />\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar />\n                <div className=\"app-wrapper-content\">\n                    <Route path='/' exact><Redirect to='/profile'/></Route>\n                    <Route path='/Profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/Users' render={withSuspense(UsersContainer)}/>\n                    <Route path='/Dialogs' render={withSuspense(Dialogs)}/>\n                    <Route path='/News' render={withSuspense(News)}/>\n                    <Route path='/Music' render={withSuspense(Music)}/>\n                    <Route path='/Settings' render={withSuspense(Settings)}/>\n                    <Route path='/Login' render={withSuspense(Login)}/>\n                </div>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n})\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps,{initializeApp}))(App);\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./ProfilePageReducer\";\r\nimport dialogReduser from \"./DialogPageReducer\";\r\nimport usersReduser from \"./UsersPageReduser\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport AppReducer from \"./AppReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    ProfilePage: profileReducer,\r\n    DialogPage: dialogReduser,\r\n    UsersPage: usersReduser,\r\n    auth: AuthReducer,\r\n    app: AppReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\nimport reportWebVitals from \"./reportWebVitals\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport store from \"./Redux/redux-store\";\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n\n    ReactDOM.render(\n            <HashRouter basename={process.env.PUBLIC_URL}>\n                <Provider store={store}>\n                    <App />\n                </Provider>\n            </HashRouter>,\n        document.getElementById('root')\n    );\n\nreportWebVitals();\n"],"sourceRoot":""}